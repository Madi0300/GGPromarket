import{p as e,a as u,v as $,w as y,O as q}from"./chunk-UH6JLGW7-BuU8Z2XH.js";import{L as G,C as A,u as k,D as H,a as D,b as S,P as I}from"./hooks-Sj0gG-DA.js";import{u as w,d as E,e as X,f as R}from"./clientStates-DR5EddyC.js";const O="_header_4fqhq_1",Y="_header__wrapper_4fqhq_12",L={header:O,header__wrapper:Y},P="_TopBar_1c58q_2",T="_City_1c58q_26",Q="_Navigation__Nav_1c58q_46",J="_Navigation__Burger_1c58q_57",z="_underlined_1c58q_78",F={TopBar:P,City:T,Navigation__Nav:Q,Navigation__Burger:J,underlined:z},U="_Navigation_1643p_1",K="_Navigation__wrapper_1643p_24",V="_Navigation__ul_1643p_28",W="_Navigation__li_1643p_31",Z="_Navigation__link_1643p_36",ee="_Navigation__close_1643p_44",v={Navigation:U,Navigation__wrapper:K,Navigation__ul:V,Navigation__li:W,Navigation__link:Z,Navigation__close:ee};function te({navItems:s,toggleIsdropdownOpen:a}){return e.jsx("div",{className:v.Navigation__wrapper,children:e.jsxs("nav",{className:v.Navigation,children:[e.jsx("ul",{className:v.Navigation__ul,children:s.map(_=>e.jsx("li",{className:v.Navigation__li,children:e.jsx("a",{className:v.Navigation__link,href:_.href,children:_.name},_.name)},_.name))}),e.jsxs("div",{className:v.Navigation__close,onClick:a,children:[e.jsx("span",{className:v.Navigation__close__span}),e.jsx("span",{className:v.Navigation__close__span})]})]})})}function se(){const{data:s,error:a,isLoading:_,isSuccess:i}=w(null),o=i?s.currentLocation:"",d=i?s.callNumber:"";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:F.TopBar,children:[e.jsx(G,{}),e.jsx(ne,{city:o}),e.jsx(A,{number:d}),e.jsx(oe,{})]})})}function ne({city:s="Москва"}){return e.jsx(e.Fragment,{children:e.jsxs("a",{className:F.City,href:"#",children:[e.jsx("img",{className:F.City__icon,src:"/GGPromarket/header/location-icon.svg"}),e.jsx("span",{className:F.underlined,children:s})]})})}function oe(){const s=[{name:"Каталог",href:"/catalog"},{name:"Доставка",href:"/order"},{name:"Скидки",href:"/discounts"},{name:"Бренды",href:"/brands"},{name:"Контакты",href:"/contacts"}],[a,_]=u.useState(!1);function i(o){_(!a)}return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:i,className:F.Navigation__Burger,"aria-expanded":a,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),a?e.jsx(te,{navItems:s,toggleIsdropdownOpen:i}):null,e.jsx("div",{className:F.Navigation__Nav,children:s.map(o=>e.jsx("a",{href:o.href,className:F.Navigation__item,children:o.name},o.name))})]})}const ae="_HeaderMiddle_1ql5a_1",re="_HeaderMiddle__cartSum_1ql5a_6",ie="_Categories_1ql5a_19",ce="_Categories__title_1ql5a_51",_e="_Categories__one_1ql5a_60",le="_Categories__burger_1ql5a_84",de="_Categories__two_1ql5a_97",ue="_Categories__three_1ql5a_101",me="_Search_1ql5a_106",he="_Search__form_1ql5a_126",xe="_Search__input_1ql5a_136",ge="_ActionButtons_1ql5a_144",je="_ActionButtons__button_1ql5a_177",fe="_ActionButtons__eliplse_1ql5a_183",pe="_ActionButtons__button__notification__sum_1ql5a_188",Ne="_LikedGoods_1ql5a_225",ve="_LikedGoods__list_1ql5a_242",Fe="_LikedGoods__item_1ql5a_246",t={HeaderMiddle:ae,HeaderMiddle__cartSum:re,Categories:ie,Categories__title:ce,Categories__one:_e,Categories__burger:le,Categories__two:de,Categories__three:ue,Search:me,Search__form:he,Search__input:xe,ActionButtons:ge,ActionButtons__button:je,ActionButtons__eliplse:fe,ActionButtons__button__notification__sum:pe,LikedGoods:Ne,LikedGoods__list:ve,LikedGoods__item:Fe};function Me(){const s=k(l=>l.clientState.likedItems),a=k(l=>l.clientState.cartItems),[_,i]=u.useState(!1),[o,d]=u.useState(!1),[m,N]=u.useState({like:{X:0,Y:0},cart:{X:0,Y:0}}),{data:g}=E(null),h=u.useMemo(()=>{if(!g)return 0;const l=g;return a.reduce((c,r)=>{const f=l.find(p=>p.id===r);return f?c+f.price:c},0)},[a,g]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.HeaderMiddle,children:[e.jsx(ke,{}),e.jsx(we,{}),e.jsx(Ce,{setButtonCords:N,setIsCartButtonTouched:d,setIsLikesButtonTouched:i,isLikesButtonTouched:_,isCartButtonTouched:o}),_?e.jsx(b,{cords:m.like,itemsId:s}):null,o?e.jsxs(e.Fragment,{children:[e.jsx(b,{cords:m.cart,itemsId:a}),e.jsxs("div",{className:t.HeaderMiddle__cartSum,style:{position:"absolute",left:`${m.cart.X-300}px`,top:`${m.cart.Y-40}px`},children:["Общий счет: ",h,"₽"]})]}):null]})})}function ke(){const{data:s,error:a,isLoading:_,isSuccess:i}=w(null),[o,d]=u.useState(!1),m=i?s.productCatalog:[],[N,g]=u.useState({X:0,Y:0}),h=u.useRef(null),l=u.useRef(null);u.useEffect(()=>{if(!o)return;function r(f){var x,j;const p=f.target;(x=h.current)!=null&&x.contains(p)||(j=l.current)!=null&&j.contains(p)||d(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[o]);function c(r){if(r.preventDefault(),!l.current)return;const f=!o;if(f){const p=l.current.getBoundingClientRect();g({X:p.left+window.scrollX,Y:p.bottom+window.scrollY})}d(f)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.Categories,children:[e.jsxs("div",{className:`${t.Categories__one} ${o?t.active:""}`,children:[e.jsxs("button",{"aria-expanded":o,onClick:c,className:t.Categories__burger,ref:l,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsx(H,{ref:h,items:m,cords:N,isOpen:o,position:"right"}),e.jsx("p",{className:`${t.Categories__one__name} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Каталог товаров"})})]}),e.jsx("div",{className:`${t.Categories__two} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Акции"})}),e.jsx("div",{className:`${t.Categories__three} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Магазины"})})]})})}function we(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:t.Search,children:e.jsxs("form",{className:t.Search__form,action:"#/",method:"get",children:[e.jsx("input",{type:"text",name:"search-text",className:t.Search__input,placeholder:"Поиск по сайту"}),e.jsx("button",{type:"submit",className:t.Search__button,children:e.jsx("img",{src:"/GGPromarket/header/search-icon.svg",alt:""})})]})})})}function Ce({setButtonCords:s,setIsCartButtonTouched:a,setIsLikesButtonTouched:_,isLikesButtonTouched:i,isCartButtonTouched:o}){const{data:d,isLoading:m,isSuccess:N,error:g}=w(null);D();const h=u.useRef(null),l=u.useRef(null),c={liked:k(x=>x.clientState.likedItems).length,cart:k(x=>x.clientState.cartItems).length};function r(x){return e.jsxs("div",{className:t.ActionButtons__button__notification,children:[e.jsx("img",{className:t.ActionButtons__eliplse,src:"/GGPromarket/header/elipse.svg",alt:""}),e.jsx("span",{className:t.ActionButtons__button__notification__sum,children:x})]})}function f(x){var M;if(x.preventDefault(),!h.current)return;const j=(M=h.current)==null?void 0:M.getBoundingClientRect();j&&(s(C=>({...C,like:{X:j.left+window.scrollX,Y:j.bottom+window.scrollY}})),_(!i))}function p(x){var M;if(x.preventDefault(),!l.current)return;const j=(M=l.current)==null?void 0:M.getBoundingClientRect();j&&(s(C=>({...C,cart:{X:j.left+window.scrollX,Y:j.bottom+window.scrollY}})),a(!o))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.ActionButtons,children:[e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",children:[null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/userButton.svg",alt:""})]})}),e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",ref:h,onClick:f,children:[c.liked>0?r(c.liked):null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/likedButton.svg",alt:""})]})}),e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",ref:l,onClick:p,children:[c.cart>0?r(c.cart):null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/cartButton.svg",alt:""})]})})]})})}function Be({id:s}){const{data:a,isSuccess:_}=X(s),i=$();if(!_)return null;function o(d){d.preventDefault(),i(`/product/${s}`,{preventScrollReset:!0})}return e.jsx("li",{className:t.LikedGoods__item,children:e.jsx("a",{className:t.LikedGoods__item__link,href:a.href,onClick:o,children:a.name})})}function b({itemsId:s,cords:a}){const _=s&&s.length>0,i=u.useRef(null),o={top:a.Y,left:a.X-320};return u.useEffect(()=>{if(!i.current)return;i.current.getBoundingClientRect().left<0&&(i.current.style.left="0px")}),e.jsx("div",{ref:i,style:o,className:t.LikedGoods,children:_?e.jsx("ul",{className:t.LikedGoods__list,children:s.map(d=>e.jsx(Be,{id:d},d))}):e.jsx("p",{children:"Список понравившихся товаров пуст."})})}function Se(){return e.jsx(e.Fragment,{children:e.jsx("header",{className:L.header,children:e.jsx("div",{className:L.header__wrapper,children:e.jsxs(S,{children:[e.jsx(se,{}),e.jsx(Me,{})]})})})})}const Le={},be="_FooterMain_1xwvl_1",Ge="_FooterMain__wrapper_1xwvl_4",$e="_FooterMain__list_1xwvl_36",ye="_FooterMain__ul_1xwvl_41",qe="_FooterMain__adress_1xwvl_48",Ae="_FooterMain__email_1xwvl_55",He="_FooterMain__contacts_1xwvl_60",De="_FooterMain__workHours_1xwvl_65",Ie="_FooterMain__callButton_1xwvl_71",Ee="_FooterMain__socialMedia_1xwvl_90",n={FooterMain:be,FooterMain__wrapper:Ge,FooterMain__list:$e,FooterMain__ul:ye,FooterMain__adress:qe,FooterMain__email:Ae,FooterMain__contacts:He,FooterMain__workHours:De,FooterMain__callButton:Ie,FooterMain__socialMedia:Ee},Xe={productLinks:[{name:"Error",href:"#"}],infoLinks:[],socialMediaLinks:[{name:"whatsapp",href:"https://www.whatsapp.com",img:"Footer/socialMedia/whatsapp.svg"},{name:"instagram",href:"https://www.instagram.com",img:"Footer/socialMedia/instagram.svg"},{name:"telegram",href:"https://www.telegram.org",img:"Footer/socialMedia/telegram.svg"}],adress:"Москва, ул. Салтыковская, 6 стр 11",email:"zakaz@ggpromarket.ru",rate:{href:"#",imgUrl:"/Footer/rate/yandex.png",alt:"yandex"}};function Re(){const{data:s,isSuccess:a,isError:_,error:i,isLoading:o}=w(null),{data:d,isSuccess:m,isError:N,error:g,isLoading:h}=R(null),l=a?s.callNumber:"",c=m?d:Xe;return e.jsx(e.Fragment,{children:e.jsx("div",{className:n.FooterMain,children:e.jsx(S,{children:e.jsxs("div",{className:n.FooterMain__wrapper,children:[e.jsxs("div",{className:n.FooterMain__list,children:[e.jsxs("ul",{className:n.FooterMain__ul,children:[m?c.productLinks.map(r=>e.jsx("li",{className:n.FooterMain__item,children:e.jsxs("a",{href:r.href,children:[r.name," "]})},r.name)):null,h?e.jsx("li",{children:"Загрузка..."}):null,N?e.jsxs("li",{children:["Ошибка загрузки: ",JSON.stringify(g)]}):null]}),e.jsx(G,{width:"214px",height:"24px"}),e.jsx("div",{className:n.FooterMain__copyright,children:"© 2025 MadeX1X"})]}),e.jsx("div",{className:n.FooterMain__list,children:e.jsxs("ul",{className:n.FooterMain__ul,children:[m?c.infoLinks.map(r=>e.jsx("li",{className:n.FooterMain__li,children:e.jsx("a",{href:r.href,children:r.name})},r.name)):null,h?e.jsx("li",{children:"Загрузка..."}):null,N?e.jsxs("li",{children:["Ошибка загрузки: ",JSON.stringify(g)]}):null]})}),e.jsxs("div",{className:n.FooterMain__contacts,children:[a?e.jsxs(e.Fragment,{children:[e.jsx(I,{number:Number(l)}),e.jsx("a",{href:`tel:${l}`,className:n.FooterMain__callButton,children:"Заказать звонок"})," "]}):null,m?e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:n.FooterMain__workHours,children:[e.jsx("li",{className:n.FooterMain__workHours__item,children:"Пн-Пт: 10:00 — 20:00"}),e.jsx("li",{className:n.FooterMain__workHours__item,children:"Сб: 10:00 — 18:00"}),e.jsx("li",{className:n.FooterMain__workHours__item,children:"Вс: выходной"})]}),e.jsx("div",{className:n.FooterMain__socialMedia,children:c.socialMediaLinks.map(r=>e.jsx("a",{className:n.FooterMain__socialMedia__item,href:r.href,children:e.jsx("img",{src:r.img})},r.name))})]}):null]}),e.jsxs("div",{className:n.FooterMain__adress,children:[m?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:n.FooterMain__adress__text,children:"Склад:"}),e.jsx("p",{className:n.FooterMain__adress,children:c.adress}),e.jsx("a",{href:`mailto:${c.email}`,className:n.FooterMain__email,children:c.email}),e.jsx("a",{href:c.rate.href,className:n.FooterMain__rate,children:e.jsx("img",{className:n.FooterMain__rate__img,src:c.rate.imgUrl,alt:c.rate.alt})})]}):null,h?e.jsx("li",{children:"Загрузка..."}):null,N?e.jsxs("div",{className:n.Footer__error,children:["Ошибка загрузки: ",JSON.stringify(g)]}):null]})]})})})})}const Oe="_FooterBottom_s3bxy_1",Ye="_FooterBottom__inlineLink_s3bxy_12",B={FooterBottom:Oe,FooterBottom__inlineLink:Ye};function Pe(){return e.jsx(e.Fragment,{children:e.jsx(S,{children:e.jsxs("div",{className:B.FooterBottom,children:[e.jsx("p",{children:"Данный сайт является учебным пет-проектом и создан исключительно в демонстрационных целях. Он не предназначен для ведения реальной коммерческой деятельности, продажи товаров или оказания услуг. Вся информация, представленная на сайте, включая цены, описания товаров и услуги, носит исключительно иллюстративный характер и не должна восприниматься как предложение или призыв к покупке."}),e.jsx("br",{}),e.jsxs("p",{children:["Сайт использует технологию cookie. Используя сайт, Вы соглашаетесь с",e.jsx("a",{href:"#",className:B.FooterBottom__inlineLink,children:"правилами использования cookie"})," ",", а также даете"," ",e.jsx("a",{href:"#",className:B.FooterBottom__inlineLink,children:"согласие на обработку персональных данных"}),"."]})]})})})}function Te(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:Le.Footer,children:[e.jsx(Re,{}),e.jsx(Pe,{})]})})}const Ue=y(function(){return e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsx(q,{}),e.jsx(Te,{})]})});export{Ue as default};
