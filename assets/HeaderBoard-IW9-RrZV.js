import{p as e,a as l,v as b,w as v,O as S}from"./chunk-UH6JLGW7-BuU8Z2XH.js";import{L as B,C as w,D as C,u as p,a as L,b as F,P as G}from"./hooks-DkaXM4VT.js";import{u as h,b as y,d as $}from"./apiSlise-DdALV-qR.js";import{t as A}from"./clientStates-DTyFyHE-.js";const z="_header_4fqhq_1",H="_header__wrapper_4fqhq_12",k={header:z,header__wrapper:H},T="_TopBar_1c58q_2",D="_City_1c58q_26",P="_Navigation__Nav_1c58q_46",q="_Navigation__Burger_1c58q_57",R="_underlined_1c58q_78",m={TopBar:T,City:D,Navigation__Nav:P,Navigation__Burger:q,underlined:R};function E(){const{data:o,error:c,isLoading:_,isSuccess:a}=h(null),i=a?o.currentLocation:"",s=a?o.callNumber:"";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:m.TopBar,children:[e.jsx(B,{}),e.jsx(X,{city:i}),e.jsx(w,{number:s}),e.jsx(O,{})]})})}function X({city:o="Москва"}){return e.jsx(e.Fragment,{children:e.jsxs("a",{className:m.City,href:"#",children:[e.jsx("img",{className:m.City__icon,src:"/GGPromarket/header/location-icon.svg"}),e.jsx("span",{className:m.underlined,children:o})]})})}function O(){const o=[{name:"Каталог",href:"/catalog"},{name:"Доставка",href:"/order"},{name:"Скидки",href:"/discounts"},{name:"Бренды",href:"/brands"},{name:"Контакты",href:"/contacts"}],[c,_]=l.useState(0),a=l.useRef(null);function i(s){a.current&&a.current.contains(s.target)||_(r=>r+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:i,className:m.Navigation__Burger,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx(C,{position:"right",ref:a,items:o,toggleKey:c})]}),e.jsx("div",{className:m.Navigation__Nav,children:o.map(s=>e.jsx("a",{href:s.href,className:m.Navigation__item,children:s.name},s.name))})]})}const I="_HeaderMiddle_b9tiz_1",K="_Categories_b9tiz_7",Y="_Categories__title_b9tiz_39",Q="_Categories__one_b9tiz_48",J="_Categories__burger_b9tiz_72",U="_Categories__two_b9tiz_85",V="_Categories__three_b9tiz_89",W="_Search_b9tiz_94",Z="_Search__form_b9tiz_114",ee="_Search__input_b9tiz_124",te="_ActionButtons_b9tiz_132",se="_ActionButtons__button_b9tiz_165",oe="_ActionButtons__eliplse_b9tiz_171",ne="_ActionButtons__button__notification__sum_b9tiz_176",ae="_LikedGoods_b9tiz_213",re="_LikedGoods__list_b9tiz_230",ie="_LikedGoods__item_b9tiz_234",t={HeaderMiddle:I,Categories:K,Categories__title:Y,Categories__one:Q,Categories__burger:J,Categories__two:U,Categories__three:V,Search:W,Search__form:Z,Search__input:ee,ActionButtons:te,ActionButtons__button:se,ActionButtons__eliplse:oe,ActionButtons__button__notification__sum:ne,LikedGoods:ae,LikedGoods__list:re,LikedGoods__item:ie};function ce(){const o=JSON.parse(localStorage.getItem("likes")||"[]"),c=p(i=>i.clientState.likesButtonTouched);p(i=>i.clientState.likeTouched);const[_,a]=l.useState({like:{X:0,Y:0}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.HeaderMiddle,children:[e.jsx(_e,{}),e.jsx(le,{}),e.jsx(de,{setLikeButtonCords:a}),c?e.jsx(me,{cords:_.like,likedItemsId:o}):null]})})}function _e(){const{data:o,error:c,isLoading:_,isSuccess:a}=h(null),i=a?o.productCatalog:[],[s,r]=l.useState(0),d=l.useRef(null);function x(g){d.current&&d.current.contains(g.target)||r(u=>u+1)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.Categories,children:[e.jsxs("div",{className:t.Categories__one,children:[e.jsxs("button",{"aria-expanded":d.current!=null,onClick:x,className:t.Categories__burger,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx(C,{ref:d,items:i,toggleKey:s})]}),e.jsx("p",{className:`${t.Categories__one__name} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Каталог товаров"})})]}),e.jsx("div",{className:`${t.Categories__two} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Акции"})}),e.jsx("div",{className:`${t.Categories__three} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Магазины"})})]})})}function le(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:t.Search,children:e.jsxs("form",{className:t.Search__form,action:"#/",method:"get",children:[e.jsx("input",{type:"text",name:"search-text",className:t.Search__input,placeholder:"Поиск по сайту"}),e.jsx("button",{type:"submit",className:t.Search__button,children:e.jsx("img",{src:"/GGPromarket/header/search-icon.svg",alt:""})})]})})})}function de({setLikeButtonCords:o}){const{data:c,isLoading:_,isSuccess:a,error:i}=h(null),s=L(),r=l.useRef(null);p(u=>u.clientState.likeTouched);const d={liked:JSON.parse(localStorage.getItem("likes")||"[]").length};function x(u){return e.jsxs("div",{className:t.ActionButtons__button__notification,children:[e.jsx("img",{className:t.ActionButtons__eliplse,src:"/GGPromarket/header/elipse.svg",alt:""}),e.jsx("span",{className:t.ActionButtons__button__notification__sum,children:u})]})}function g(u){var N;if(u.preventDefault(),!r.current)return;const j=(N=r.current)==null?void 0:N.getBoundingClientRect();j&&(o({like:{X:j.left+window.scrollX,Y:j.bottom+window.scrollY}}),s(A()))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.ActionButtons,children:[e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",children:[null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/userButton.svg",alt:""})]})}),e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",ref:r,onClick:g,children:[d.liked>0?x(d.liked):null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/likedButton.svg",alt:""})]})}),e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",children:[null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/cartButton.svg",alt:""})]})})]})})}function ue({id:o}){const{data:c,isSuccess:_}=y(o),a=b();if(!_)return null;function i(s){s.preventDefault(),a(`/product/${o}`,{preventScrollReset:!0})}return e.jsx("li",{className:t.LikedGoods__item,children:e.jsx("a",{className:t.LikedGoods__item__link,href:c.href,onClick:i,children:c.name})})}function me({likedItemsId:o,cords:c}){const _=o&&o.length>0,a=l.useRef(null),i={top:c.Y,left:c.X-320};return l.useEffect(()=>{if(!a.current)return;a.current.getBoundingClientRect().left<0&&(a.current.style.left="0px")}),e.jsx("div",{ref:a,style:i,className:t.LikedGoods,children:_?e.jsx("ul",{className:t.LikedGoods__list,children:o.map(s=>e.jsx(ue,{id:s},s))}):e.jsx("p",{children:"Список понравившихся товаров пуст."})})}function he(){return e.jsx(e.Fragment,{children:e.jsx("header",{className:k.header,children:e.jsx("div",{className:k.header__wrapper,children:e.jsxs(F,{children:[e.jsx(E,{}),e.jsx(ce,{})]})})})})}const xe={},ge="_FooterMain_1xksu_1",je="_FooterMain__wrapper_1xksu_4",fe="_FooterMain__list_1xksu_36",pe="_FooterMain__ul_1xksu_41",Fe="_FooterMain__adress_1xksu_48",Ne="_FooterMain__email_1xksu_55",ke="_FooterMain__contacts_1xksu_60",Me="_FooterMain__workHours_1xksu_65",Be="_FooterMain__callButton_1xksu_71",Ce="_FooterMain__socialMedia_1xksu_85",n={FooterMain:ge,FooterMain__wrapper:je,FooterMain__list:fe,FooterMain__ul:pe,FooterMain__adress:Fe,FooterMain__email:Ne,FooterMain__contacts:ke,FooterMain__workHours:Me,FooterMain__callButton:Be,FooterMain__socialMedia:Ce},M={productLinks:[{name:"Error",href:"#"},{name:"Мебель для ванной",href:"#"},{name:"Электроника и бытовая техника",href:"#"},{name:"Отопление",href:"#"},{name:"Напольное покрытие",href:"#"}],infoLinks:[{name:"Оплата",href:"#"},{name:"Доставка",href:"#"},{name:"Поставщикам",href:"#"},{name:"Статьи",href:"#"},{name:"Контакты",href:"#"}],socialMediaLinks:[{name:"whatsapp",href:"https://www.whatsapp.com",img:"Footer/socialMedia/whatsapp.svg"},{name:"instagram",href:"https://www.instagram.com",img:"Footer/socialMedia/instagram.svg"},{name:"telegram",href:"https://www.telegram.org",img:"Footer/socialMedia/telegram.svg"}],adress:"Москва, ул. Салтыковская, 6 стр 11",email:"zakaz@ggpromarket.ru",rate:{href:"#",imgUrl:"/Footer/rate/yandex.png",alt:"yandex"}};function be(){const{data:o,isSuccess:c}=h(null),{data:_,isSuccess:a}=$(null),i=c?o.callNumber:"",s=a?_:M;return e.jsx(e.Fragment,{children:e.jsx("div",{className:n.FooterMain,children:e.jsx(F,{children:e.jsxs("div",{className:n.FooterMain__wrapper,children:[e.jsxs("div",{className:n.FooterMain__list,children:[e.jsx("ul",{className:n.FooterMain__ul,children:s.productLinks.map(r=>e.jsx("li",{className:n.FooterMain__item,children:e.jsxs("a",{href:r.href,children:[r.name," "]})},r.name))}),e.jsx(B,{width:"214px",height:"24px"}),e.jsx("div",{className:n.FooterMain__copyright,children:"© 2020 ggpromarket.ru"})]}),e.jsx("div",{className:n.FooterMain__list,children:e.jsx("ul",{className:n.FooterMain__ul,children:s.infoLinks.map(r=>e.jsx("li",{className:n.FooterMain__li,children:e.jsx("a",{href:r.href,children:r.name})},r.name))})}),e.jsxs("div",{className:n.FooterMain__contacts,children:[e.jsx(G,{number:Number(i)}),e.jsx("a",{href:`tel:${i}`,className:n.FooterMain__callButton,children:"Заказать звонок"}),e.jsxs("ul",{className:n.FooterMain__workHours,children:[e.jsx("li",{className:n.FooterMain__workHours__item,children:"Пн-Пт: 10:00 — 20:00"}),e.jsx("li",{className:n.FooterMain__workHours__item,children:"Сб: 10:00 — 18:00"}),e.jsx("li",{className:n.FooterMain__workHours__item,children:"Вс: выходной"})]}),e.jsx("div",{className:n.FooterMain__socialMedia,children:M.socialMediaLinks.map(r=>e.jsx("a",{className:n.FooterMain__socialMedia__item,href:r.href,children:e.jsx("img",{src:"/GGPromarket/"+r.img})},r.name))})]}),e.jsxs("div",{className:n.FooterMain__adress,children:[e.jsx("p",{className:n.FooterMain__adress__text,children:"Склад:"}),e.jsx("p",{className:n.FooterMain__adress,children:s.adress}),e.jsx("a",{href:`mailto:${s.email}`,className:n.FooterMain__email,children:s.email}),e.jsx("a",{href:s.rate.href,className:n.FooterMain__rate,children:e.jsx("img",{className:n.FooterMain__rate__img,src:s.rate.imgUrl,alt:s.rate.alt})})]})]})})})})}const ve="_FooterBottom_s3bxy_1",Se="_FooterBottom__inlineLink_s3bxy_12",f={FooterBottom:ve,FooterBottom__inlineLink:Se};function we(){return e.jsx(e.Fragment,{children:e.jsx(F,{children:e.jsxs("div",{className:f.FooterBottom,children:[e.jsx("p",{children:"Данный сайт является учебным пет-проектом и создан исключительно в демонстрационных целях. Он не предназначен для ведения реальной коммерческой деятельности, продажи товаров или оказания услуг. Вся информация, представленная на сайте, включая цены, описания товаров и услуги, носит исключительно иллюстративный характер и не должна восприниматься как предложение или призыв к покупке."}),e.jsx("br",{}),e.jsxs("p",{children:["Сайт использует технологию cookie. Используя сайт, Вы соглашаетесь с",e.jsx("a",{href:"#",className:f.FooterBottom__inlineLink,children:"правилами использования cookie"})," ",", а также даете"," ",e.jsx("a",{href:"#",className:f.FooterBottom__inlineLink,children:"согласие на обработку персональных данных"}),"."]})]})})})}function Le(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:xe.Footer,children:[e.jsx(be,{}),e.jsx(we,{})]})})}const ze=v(function(){return e.jsxs(e.Fragment,{children:[e.jsx(he,{}),e.jsx(S,{}),e.jsx(Le,{})]})});export{ze as default};
