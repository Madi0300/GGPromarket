import{p as s,a as g}from"./chunk-UH6JLGW7-C5_N2qaM.js";import{S as t,G as h}from"./GoodsCard-L9R2VJc0.js";import{T as m}from"./home-D5f2UMRl.js";import{u as f}from"./apiSlise-DkzWnf8z.js";import"./ui-C_hnAzDc.js";import"./hooks-c0Jm5PRv.js";import"./clientStates-Ijc_ZD4W.js";import"./preload-helper-CR-aIV2P.js";const G={hits:[{tag:"Sinks",text:"Раковины"},{tag:"Baths",text:"Ванны"},{tag:"Toilets",text:"Унитазы"},{tag:"Shower systems",text:"Душевые системы"},{tag:"Faucets",text:"Смесители"},{tag:"Mirrors",text:"Зеркала"},{tag:"Shower cabins",text:"Душевые кабины"},{tag:"Washing machines",text:"Стиральные машины"}],discounts:[{tag:"Faucets",text:"Смесители"},{tag:"Towel dryers",text:"Полотенцесушители"},{tag:"Bidets",text:"Биде"},{tag:"Shower systems",text:"Душевые системы"},{tag:"Baths",text:"Ванны"},{tag:"Toilets",text:"Унитазы"},{tag:"Heaters",text:"Обогреватели"},{tag:"Dishwashers",text:"Посудомоечные машины"}]},_=["hit","discount"];function C(){const{isSuccess:i,isError:d,error:a,data:r,isLoading:l}=f(null),n=i?r:"loading",o=G;return s.jsxs(s.Fragment,{children:[s.jsx(m,{description:"Хиты продаж"}),s.jsxs("div",{className:t.Goods,children:[i?s.jsx(x,{categories:o.hits,data:n,sign:_[0]}):null,l?s.jsx("div",{className:t.Goods__loading,children:"Загрузка..."}):null,d?s.jsx("div",{className:t.Goods__error,children:JSON.stringify(a)}):null,s.jsx(m,{description:"Акции"}),i?s.jsx(x,{categories:o.discounts,data:n,sign:_[1]}):null,l?s.jsx("div",{className:t.Goods__loading,children:"Загрузка..."}):null,d?s.jsx("div",{className:t.Goods__error,children:JSON.stringify(a)}):null]})]})}function x({data:i,categories:d,sign:a}){const[r,l]=g.useState("All"),n=i.filter(e=>a==="hit"&&e.isHit||a==="discount"&&e.discount!=null&&e.price>=e.discount?r==="All"||e.category===r:!1),o=g.useRef(null);function u(e,c){c&&(e==="right"&&c.scrollBy({left:308,behavior:"smooth"}),e==="left"&&c.scrollBy({left:-308,behavior:"smooth"}))}return s.jsx(s.Fragment,{children:s.jsxs("div",{className:t.GoodsSlider,children:[s.jsxs("div",{className:t.GoodsSlider__categories,children:[s.jsx("button",{onClick:()=>{l("All")},className:t.GoodsSlider__category+" "+(r==="All"?t.selected:""),children:"Любые товары"}),d.map(e=>s.jsx("div",{onClick:()=>{l(e.tag)},className:t.GoodsSlider__category+" "+(r===e.tag?t.selected:""),children:e.text},e.tag))]}),n.length>0?s.jsxs("div",{className:t.GoodsSlider__items,children:[s.jsx("div",{ref:o,className:t.GoodsSlider__items__wrapper,children:n.map(e=>s.jsx(h,{item:e,scrollContainer:o},e.id))}),s.jsxs("div",{className:t.GoodsSlider__items__buttons,children:[s.jsx("button",{onClick:()=>u("left",o.current),className:t.GoodsSlider__items__buttonLeft,children:s.jsx("img",{className:t.GoodsSlider__items__button__img,src:"/GGPromarket/Goods/arrow.svg",alt:"arrow"})}),s.jsx("button",{onClick:()=>u("right",o.current),className:t.GoodsSlider__items__buttonRight,children:s.jsx("img",{className:t.GoodsSlider__items__button__img,src:"/GGPromarket/Goods/arrow.svg",alt:"arrow"})})]})]}):s.jsx("div",{className:t.GoodsSlider__noItems,children:"Товары не найдены"})]})})}export{C as default};
