import{p as e,a as c,v as C,w as b,O as v}from"./chunk-UH6JLGW7-BuU8Z2XH.js";import{L as M,C as L,D as B,u as p,a as w,b as F,P as S}from"./hooks-DkaXM4VT.js";import{u as h,b as G,d as y}from"./apiSlise-DdALV-qR.js";import{t as $}from"./clientStates-DTyFyHE-.js";const A="_header_4fqhq_1",z="_header__wrapper_4fqhq_12",k={header:A,header__wrapper:z},H="_TopBar_1c58q_2",T="_City_1c58q_26",q="_Navigation__Nav_1c58q_46",P="_Navigation__Burger_1c58q_57",D="_underlined_1c58q_78",m={TopBar:H,City:T,Navigation__Nav:q,Navigation__Burger:P,underlined:D};function R(){const{data:o,error:n,isLoading:s,isSuccess:i}=h(null),_=i?o.currentLocation:"",a=i?o.callNumber:"";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:m.TopBar,children:[e.jsx(M,{}),e.jsx(E,{city:_}),e.jsx(L,{number:a}),e.jsx(X,{})]})})}function E({city:o="Москва"}){return e.jsx(e.Fragment,{children:e.jsxs("a",{className:m.City,href:"#",children:[e.jsx("img",{className:m.City__icon,src:"/GGPromarket/header/location-icon.svg"}),e.jsx("span",{className:m.underlined,children:o})]})})}function X(){const o=[{name:"Каталог",href:"/catalog"},{name:"Доставка",href:"/order"},{name:"Скидки",href:"/discounts"},{name:"Бренды",href:"/brands"},{name:"Контакты",href:"/contacts"}],[n,s]=c.useState(0),i=c.useRef(null);function _(a){i.current&&i.current.contains(a.target)||s(l=>l+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:_,className:m.Navigation__Burger,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx(B,{position:"right",ref:i,items:o,toggleKey:n})]}),e.jsx("div",{className:m.Navigation__Nav,children:o.map(a=>e.jsx("a",{href:a.href,className:m.Navigation__item,children:a.name},a.name))})]})}const O="_HeaderMiddle_b9tiz_1",I="_Categories_b9tiz_7",K="_Categories__title_b9tiz_39",Y="_Categories__one_b9tiz_48",Q="_Categories__burger_b9tiz_72",J="_Categories__two_b9tiz_85",U="_Categories__three_b9tiz_89",V="_Search_b9tiz_94",W="_Search__form_b9tiz_114",Z="_Search__input_b9tiz_124",ee="_ActionButtons_b9tiz_132",te="_ActionButtons__button_b9tiz_165",se="_ActionButtons__eliplse_b9tiz_171",oe="_ActionButtons__button__notification__sum_b9tiz_176",ne="_LikedGoods_b9tiz_213",re="_LikedGoods__list_b9tiz_230",ae="_LikedGoods__item_b9tiz_234",t={HeaderMiddle:O,Categories:I,Categories__title:K,Categories__one:Y,Categories__burger:Q,Categories__two:J,Categories__three:U,Search:V,Search__form:W,Search__input:Z,ActionButtons:ee,ActionButtons__button:te,ActionButtons__eliplse:se,ActionButtons__button__notification__sum:oe,LikedGoods:ne,LikedGoods__list:re,LikedGoods__item:ae};function ie(){const o=JSON.parse(localStorage.getItem("likes")||"[]"),n=p(_=>_.clientState.likesButtonTouched);p(_=>_.clientState.likeTouched);const[s,i]=c.useState({like:{X:0,Y:0}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.HeaderMiddle,children:[e.jsx(_e,{}),e.jsx(ce,{}),e.jsx(le,{setLikeButtonCords:i}),n?e.jsx(ue,{cords:s.like,likedItemsId:o}):null]})})}function _e(){const{data:o,error:n,isLoading:s,isSuccess:i}=h(null),_=i?o.productCatalog:[],[a,l]=c.useState(0),d=c.useRef(null);function x(g){d.current&&d.current.contains(g.target)||l(u=>u+1)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.Categories,children:[e.jsxs("div",{className:t.Categories__one,children:[e.jsxs("button",{"aria-expanded":d.current!=null,onClick:x,className:t.Categories__burger,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx(B,{ref:d,items:_,toggleKey:a})]}),e.jsx("p",{className:`${t.Categories__one__name} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Каталог товаров"})})]}),e.jsx("div",{className:`${t.Categories__two} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Акции"})}),e.jsx("div",{className:`${t.Categories__three} ${t.Categories__title}`,children:e.jsx("a",{href:"#",children:"Магазины"})})]})})}function ce(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:t.Search,children:e.jsxs("form",{className:t.Search__form,action:"#/",method:"get",children:[e.jsx("input",{type:"text",name:"search-text",className:t.Search__input,placeholder:"Поиск по сайту"}),e.jsx("button",{type:"submit",className:t.Search__button,children:e.jsx("img",{src:"/GGPromarket/header/search-icon.svg",alt:""})})]})})})}function le({setLikeButtonCords:o}){const{data:n,isLoading:s,isSuccess:i,error:_}=h(null),a=w(),l=c.useRef(null);p(u=>u.clientState.likeTouched);const d={liked:JSON.parse(localStorage.getItem("likes")||"[]").length};function x(u){return e.jsxs("div",{className:t.ActionButtons__button__notification,children:[e.jsx("img",{className:t.ActionButtons__eliplse,src:"/GGPromarket/header/elipse.svg",alt:""}),e.jsx("span",{className:t.ActionButtons__button__notification__sum,children:u})]})}function g(u){var N;if(u.preventDefault(),!l.current)return;const j=(N=l.current)==null?void 0:N.getBoundingClientRect();j&&(o({like:{X:j.left+window.scrollX,Y:j.bottom+window.scrollY}}),a($()))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.ActionButtons,children:[e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",children:[null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/userButton.svg",alt:""})]})}),e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",ref:l,onClick:g,children:[d.liked>0?x(d.liked):null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/likedButton.svg",alt:""})]})}),e.jsx("div",{className:t.ActionButtons__button,children:e.jsxs("a",{href:"#",children:[null,e.jsx("img",{className:t.ActionButtons__button__icon,src:"/GGPromarket/header/cartButton.svg",alt:""})]})})]})})}function de({id:o}){const{data:n,isSuccess:s}=G(o),i=C();if(!s)return null;function _(a){a.preventDefault(),i(`/product/${o}`,{preventScrollReset:!0})}return e.jsx("li",{className:t.LikedGoods__item,children:e.jsx("a",{className:t.LikedGoods__item__link,href:n.href,onClick:_,children:n.name})})}function ue({likedItemsId:o,cords:n}){const s=o&&o.length>0,i=c.useRef(null),_={top:n.Y,left:n.X-320};return c.useEffect(()=>{if(!i.current)return;i.current.getBoundingClientRect().left<0&&(i.current.style.left="0px")}),e.jsx("div",{ref:i,style:_,className:t.LikedGoods,children:s?e.jsx("ul",{className:t.LikedGoods__list,children:o.map(a=>e.jsx(de,{id:a},a))}):e.jsx("p",{children:"Список понравившихся товаров пуст."})})}function me(){return e.jsx(e.Fragment,{children:e.jsx("header",{className:k.header,children:e.jsx("div",{className:k.header__wrapper,children:e.jsxs(F,{children:[e.jsx(R,{}),e.jsx(ie,{})]})})})})}const he={},xe="_FooterMain_1xksu_1",ge="_FooterMain__wrapper_1xksu_4",je="_FooterMain__list_1xksu_36",fe="_FooterMain__ul_1xksu_41",pe="_FooterMain__adress_1xksu_48",Fe="_FooterMain__email_1xksu_55",Ne="_FooterMain__contacts_1xksu_60",ke="_FooterMain__workHours_1xksu_65",Me="_FooterMain__callButton_1xksu_71",Be="_FooterMain__socialMedia_1xksu_85",r={FooterMain:xe,FooterMain__wrapper:ge,FooterMain__list:je,FooterMain__ul:fe,FooterMain__adress:pe,FooterMain__email:Fe,FooterMain__contacts:Ne,FooterMain__workHours:ke,FooterMain__callButton:Me,FooterMain__socialMedia:Be},Ce={productLinks:[{name:"Error",href:"#"},{name:"Мебель для ванной",href:"#"},{name:"Электроника и бытовая техника",href:"#"},{name:"Отопление",href:"#"},{name:"Напольное покрытие",href:"#"}],infoLinks:[{name:"Оплата",href:"#"},{name:"Доставка",href:"#"},{name:"Поставщикам",href:"#"},{name:"Статьи",href:"#"},{name:"Контакты",href:"#"}],socialMediaLinks:[{name:"whatsapp",href:"https://www.whatsapp.com",img:"/Footer/socialMedia/whatsapp.svg"},{name:"instagram",href:"https://www.instagram.com",img:"/Footer/socialMedia/instagram.svg"},{name:"telegram",href:"https://www.telegram.org",img:"/Footer/socialMedia/telegram.svg"}],adress:"Москва, ул. Салтыковская, 6 стр 11",email:"zakaz@ggpromarket.ru",rate:{href:"#",imgUrl:"/Footer/rate/yandex.png",alt:"yandex"}};function be(){let o="";(()=>{const{data:s,error:i,isLoading:_,isSuccess:a}=h(null);o=a?s.callNumber:""})();let n;return(()=>{const{data:s,error:i,isLoading:_,isSuccess:a}=y(null);n=a?s:Ce})(),e.jsx(e.Fragment,{children:e.jsx("div",{className:r.FooterMain,children:e.jsx(F,{children:e.jsxs("div",{className:r.FooterMain__wrapper,children:[e.jsxs("div",{className:r.FooterMain__list,children:[e.jsx("ul",{className:r.FooterMain__ul,children:n.productLinks.map(s=>e.jsx("li",{className:r.FooterMain__item,children:e.jsxs("a",{href:s.href,children:[s.name," "]})},s.name))}),e.jsx(M,{width:"214px",height:"24px"}),e.jsx("div",{className:r.FooterMain__copyright,children:"© 2020 ggpromarket.ru"})]}),e.jsx("div",{className:r.FooterMain__list,children:e.jsx("ul",{className:r.FooterMain__ul,children:n.infoLinks.map(s=>e.jsx("li",{className:r.FooterMain__li,children:e.jsx("a",{href:s.href,children:s.name})},s.name))})}),e.jsxs("div",{className:r.FooterMain__contacts,children:[e.jsx(S,{number:Number(o)}),e.jsx("a",{href:`tel:${o}`,className:r.FooterMain__callButton,children:"Заказать звонок"}),e.jsxs("ul",{className:r.FooterMain__workHours,children:[e.jsx("li",{className:r.FooterMain__workHours__item,children:"Пн-Пт: 10:00 — 20:00"}),e.jsx("li",{className:r.FooterMain__workHours__item,children:"Сб: 10:00 — 18:00"}),e.jsx("li",{className:r.FooterMain__workHours__item,children:"Вс: выходной"})]}),e.jsx("div",{className:r.FooterMain__socialMedia,children:n.socialMediaLinks.map(s=>e.jsx("a",{className:r.FooterMain__socialMedia__item,href:s.href,children:e.jsx("img",{src:s.img})},s.name))})]}),e.jsxs("div",{className:r.FooterMain__adress,children:[e.jsx("p",{className:r.FooterMain__adress__text,children:"Склад:"}),e.jsx("p",{className:r.FooterMain__adress,children:n.adress}),e.jsx("a",{href:`mailto:${n.email}`,className:r.FooterMain__email,children:n.email}),e.jsx("a",{href:n.rate.href,className:r.FooterMain__rate,children:e.jsx("img",{className:r.FooterMain__rate__img,src:n.rate.imgUrl,alt:n.rate.alt})})]})]})})})})}const ve="_FooterBottom_s3bxy_1",Le="_FooterBottom__inlineLink_s3bxy_12",f={FooterBottom:ve,FooterBottom__inlineLink:Le};function we(){return e.jsx(e.Fragment,{children:e.jsx(F,{children:e.jsxs("div",{className:f.FooterBottom,children:[e.jsx("p",{children:"Данный сайт является учебным пет-проектом и создан исключительно в демонстрационных целях. Он не предназначен для ведения реальной коммерческой деятельности, продажи товаров или оказания услуг. Вся информация, представленная на сайте, включая цены, описания товаров и услуги, носит исключительно иллюстративный характер и не должна восприниматься как предложение или призыв к покупке."}),e.jsx("br",{}),e.jsxs("p",{children:["Сайт использует технологию cookie. Используя сайт, Вы соглашаетесь с",e.jsx("a",{href:"#",className:f.FooterBottom__inlineLink,children:"правилами использования cookie"})," ",", а также даете"," ",e.jsx("a",{href:"#",className:f.FooterBottom__inlineLink,children:"согласие на обработку персональных данных"}),"."]})]})})})}function Se(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:he.Footer,children:[e.jsx(be,{}),e.jsx(we,{})]})})}const ze=b(function(){return e.jsxs(e.Fragment,{children:[e.jsx(me,{}),e.jsx(v,{}),e.jsx(Se,{})]})});export{ze as default};
